<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>Product description</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="resources/css/bootstrap.css" rel="stylesheet" />
        <link rel="stylesheet" href="resources/css/blog.css" />
        <h:outputStylesheet library="css" name="bootstrap.css"/>
        <h:outputStylesheet library="css" name="blog.css"/>
    </h:head>
    <h:body>
        <nav class="navbar navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">
                    <h:form>
                        <ul class="navbar-brand"> 
                            <a class="navbar-brand" href="index.xhtml">AuctionWebApp</a>
                        </ul>
                    </h:form>
                </div>
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#">Page 1</a></li>
                    <li><a href="#">Page 2</a></li>
                </ul>
                <h:form class="navbar-form navbar-left">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" />
                        <div class="input-group-btn">
                            <button class="btn btn-default" type="submit">
                                <i class="glyphicon glyphicon-search"></i>
                            </button>
                        </div>
                    </div>
                </h:form>
                <h:form>
                    <ul class="nav navbar-nav navbar-right">
                        <c:if test="#{user == null}">
                            <li>
                                <h:commandLink action="loginPage">
                                    <span class="glyphicon glyphicon-log-in" /> Login
                                </h:commandLink>
                            </li>
                        </c:if>
                        <c:if test="#{user != null}">
                            <li>
                                <h:commandLink action="#{LoginView.toUserProfile}" value="My Profile" />
                            </li>
                            <li>
                                <h:commandLink action="#{LoginView.logOut()}">
                                    Logout <span class="glyphicon glyphicon-log-out" />
                                </h:commandLink>
                            </li>
                        </c:if>
                        <!--<li><h:commandLink action="productdescription"></h:commandLink></li>-->
                    </ul>
                </h:form>
            </div>
        </nav>
        <div class="row col-md-12" style="padding-left: 7em">
            <div class="container-fluid col-md-8 well">
                <div class="row" style="padding-top: 1em">
                    <div class="col-md-3">
                        <h:graphicImage value="/image/productListing/#{PDView.pl.id}" width="75%" height="100%"/>
                    </div>
                    <div class="col-md-9">
                        <p style="font-size: 2em"><h:outputLabel value="#{PDView.pl.product.name}" /> </p>
                        <p> Product rating: <h:outputText value="#{PDView.avergeProductRating}" /></p>
                        <p> Starting price: <h:outputText value="#{PDView.pl.basePrice} $" /></p>
                        <p style="font-size: 2em">Current Bid: <h:outputLabel value="#{PDView.highestBid.amount} $" /></p>
                        <p style="font-size: 1em">Place your bid in dollar</p>
                        <div class="row">
                            <div class="form-group col-xs-4">
                                <h:form>
                                    <h:outputLabel value="Amount: " /><h:inputText value="#{PDView.value}" />
                                    <h:commandButton action="#{PDView.addBid(PDView.pl.id)}" value=" Add Bid" />
                                </h:form>
                            </div>
                        </div>
                        <div>
                            <p style="font-size: 1em">Date published: <h:outputLabel value="#{PDView.pl.published}" /></p>
                            <p style="font-size: 1em">Closing date: <h:outputLabel value="#{PDView.pl.closing}" /></p>
                            <p style="font-size: 1em"><h:outputLabel value="#{PDView.timeLeft}" /></p>
                        </div>
                    </div>
                </div>
                <div>
                    <div>
                        <h4>Product Description: </h4>
                        <h:outputLabel value="#{PDView.pl.description}" />
                    </div>
                    <div>
                        <p></p>
                        <h4>Features: </h4>
                        <h:outputLabel value="#{PDView.pl.product.features}" />
                    </div>
                </div>
                <div class="row" style="padding-top: 1em">
                    <div class="col-md-10">
                        <h:form>
                            <p> Select a rating for product:  
                                <h:selectOneMenu value="#{PDView.productRating}">
                                    <f:selectItem itemValue="1.0" itemLabel="1 Star" />
                                    <f:selectItem itemValue="2.0" itemLabel="2 Stars" />
                                    <f:selectItem itemValue="3.0" itemLabel="3 Stars" />
                                    <f:selectItem itemValue="4.0" itemLabel="4 Stars" />
                                    <f:selectItem itemValue="5.0" itemLabel="5 Stars" />
                                </h:selectOneMenu>
                            </p>
                            <p>
                                <h:inputTextarea rows="6" style="resize: none; min-width: 90%" value="#{PDView.comment}" a:placeholder="Write a comment" />
                            </p>
                            <p><h:commandButton action="#{PDView.addFeedback(PDView.ID)}" value=" Send comment and rating" /></p>
                        </h:form>
                    </div>
                </div>
            </div>
            <div class="col-md-4" >
                <div class="container-fluid well">
                    <p style="font-size: 2em">Seller: <h:outputText value="#{PDView.seller.name}" /></p>
                    <p>Seller rating: <h:outputText value="#{PDView.avergeSellerRating}" /></p>
                    <h4>Contact Information: </h4>
                    <p> - Email: <h:outputText value="#{PDView.seller.email}" /></p>
                    <p> - Phone: <h:outputText value="#{PDView.seller.phone}" /></p>
                    <p> - Adress: <h:outputText value="#{PDView.seller.address}" /></p>
                    <div style="padding-top: 1em">
                        <h:form>
                            <h4> Select a rating for Seller:  
                                <h:selectOneMenu value="#{PDView.sellerRating}">
                                    <f:selectItem itemValue="1.0" itemLabel="1 Star" />
                                    <f:selectItem itemValue="2.0" itemLabel="2 Stars" />
                                    <f:selectItem itemValue="3.0" itemLabel="3 Stars" />
                                    <f:selectItem itemValue="4.0" itemLabel="4 Stars" />
                                    <f:selectItem itemValue="5.0" itemLabel="5 Stars" />
                                </h:selectOneMenu>
                            </h4>
                            <p><h:commandButton action="#{PDView.addSellerRating(PDView.ID)}" value=" Send seller rating" /></p>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row col-md-10" style="padding-left: 7em">
            <p style="font-size: 1em"><h:outputText value="#{PDView.allComments}" /></p>
        </div>
    </h:body>
</html>
